<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title> 14 R Modulo 5 - Relativizações e transformações | Fundamentos de Ecologia Numérica</title>
<meta name="author" content="Prof. Elvio S. F. Medeiros">
<meta name="author" content="Laboratório de Ecologia">
<meta name="author" content="Universidade Estadual da Paraíba">
<meta name="author" content="Campus V, João Pessoa, PB">
<meta name="description" content="RESUMO Transformações e relativizações de dados são técnicas essenciais na análise de dados em Ecologia Numérica, permitindo comparar diferentes variáveis que estão em escalas diferentes ou que...">
<meta name="generator" content="bookdown 0.38 with bs4_book()">
<meta property="og:title" content=" 14 R Modulo 5 - Relativizações e transformações | Fundamentos de Ecologia Numérica">
<meta property="og:type" content="book">
<meta property="og:description" content="RESUMO Transformações e relativizações de dados são técnicas essenciais na análise de dados em Ecologia Numérica, permitindo comparar diferentes variáveis que estão em escalas diferentes ou que...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 14 R Modulo 5 - Relativizações e transformações | Fundamentos de Ecologia Numérica">
<meta name="twitter:description" content="RESUMO Transformações e relativizações de dados são técnicas essenciais na análise de dados em Ecologia Numérica, permitindo comparar diferentes variáveis que estão em escalas diferentes ou que...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet">
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="libs/rglWebGL-binding-1.1.3/rglWebGL.js"></script><link href="libs/rglwidgetClass-1.1.3/rgl.css" rel="stylesheet">
<script src="libs/rglwidgetClass-1.1.3/rglClass.src.js"></script><script src="libs/rglwidgetClass-1.1.3/utils.src.js"></script><script src="libs/rglwidgetClass-1.1.3/buffer.src.js"></script><script src="libs/rglwidgetClass-1.1.3/subscenes.src.js"></script><script src="libs/rglwidgetClass-1.1.3/shaders.src.js"></script><script src="libs/rglwidgetClass-1.1.3/shadersrc.src.js"></script><script src="libs/rglwidgetClass-1.1.3/textures.src.js"></script><script src="libs/rglwidgetClass-1.1.3/projection.src.js"></script><script src="libs/rglwidgetClass-1.1.3/mouse.src.js"></script><script src="libs/rglwidgetClass-1.1.3/init.src.js"></script><script src="libs/rglwidgetClass-1.1.3/pieces.src.js"></script><script src="libs/rglwidgetClass-1.1.3/draw.src.js"></script><script src="libs/rglwidgetClass-1.1.3/controls.src.js"></script><script src="libs/rglwidgetClass-1.1.3/selection.src.js"></script><script src="libs/rglwidgetClass-1.1.3/rglTimer.src.js"></script><script src="libs/rglwidgetClass-1.1.3/pretty.src.js"></script><script src="libs/rglwidgetClass-1.1.3/axes.src.js"></script><script src="libs/rglwidgetClass-1.1.3/animation.src.js"></script><script src="libs/CanvasMatrix4-1.1.3/CanvasMatrix.src.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 1em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Disciplina de Ecologia Numérica do Curso de Ciências Biológicas do Campus V da UEPB">Fundamentos de Ecologia Numérica</a>:
        <small class="text-muted">Disciplina de Ecologia Numérica do Curso de Ciências Biológicas do Campus V da UEPB</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Apresentação</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">2</span> Introdução ao R/RStudio</a></li>
<li class="book-part">II. BASES DE DADOS</li>
<li><a class="" href="bases.html"><span class="header-section-number">3</span> Bases de dados. Dados do PPBio Semiárido</a></li>
<li><a class="" href="basepeixes.html"><span class="header-section-number">4</span> Base de dados I - Peixes</a></li>
<li><a class="" href="basehab.html"><span class="header-section-number">5</span> Base de dados II - Habitat</a></li>
<li class="book-part">III. ESTATÍSTICAS DESCRITIVAS</li>
<li><a class="" href="xls.html"><span class="header-section-number">6</span> R Modulo 1 - Importando planilhas de dados</a></li>
<li><a class="" href="tiposR.html"><span class="header-section-number">7</span> R Modulo 2 - Tipos de dados no R</a></li>
<li><a class="" href="univ.html"><span class="header-section-number">8</span> R Modulo 3.1 - Estatísticas descritivas e normalidade</a></li>
<li><a class="" href="univ2.html"><span class="header-section-number">9</span> R Modulo 3.2 - Testes estatísticos</a></li>
<li><a class="" href="unigr.html"><span class="header-section-number">10</span> R Modulo 3.3 - Gráficos univariados</a></li>
<li><a class="" href="estrcom.html"><span class="header-section-number">11</span> R Módulo 4.1 - Estrutura da comunidade</a></li>
<li><a class="" href="partdiv.html"><span class="header-section-number">12</span> R Modulo 4.2 - Decomposição da diversidade</a></li>
<li><a class="" href="estrhab.html"><span class="header-section-number">13</span> R Modulo 4.3 - Estrutura do habitat</a></li>
<li><a class="active" href="reltrns.html"><span class="header-section-number">14</span> R Modulo 5 - Relativizações e transformações</a></li>
<li><a class="" href="outcentr.html"><span class="header-section-number">15</span> R Módulo 6 - Análise de outliers baseada no desvio padrão do centróide</a></li>
<li><a class="" href="nmds.html"><span class="header-section-number">16</span> R Módulo 8 - Análise de Ordenação - NMDS</a></li>
<li class="book-part">IV. ANÁLISES MULTIVARIADAS</li>
<li><a class="" href="upgma.html"><span class="header-section-number">17</span> R Módulo 7 - Análise de Classificação Hierárquica - SAHN</a></li>
<li><a class="" href="bibliografia-geral.html">Bibliografia Geral</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="reltrns" class="section level1" number="14">
<h1>
<span class="header-section-number"> 14</span> R Modulo 5 - Relativizações e transformações<a class="anchor" aria-label="anchor" href="#reltrns"><i class="fas fa-link"></i></a>
</h1>
<div id="resumo-11" class="section level3 unnumbered">
<h3>RESUMO<a class="anchor" aria-label="anchor" href="#resumo-11"><i class="fas fa-link"></i></a>
</h3>
<p>Transformações e relativizações de dados são técnicas essenciais na análise de dados em Ecologia Numérica, permitindo comparar diferentes variáveis que estão em escalas diferentes ou que possuem unidades distintas.</p>
</div>
<div id="apresentação-11" class="section level3 unnumbered">
<h3>Apresentação<a class="anchor" aria-label="anchor" href="#apresenta%C3%A7%C3%A3o-11"><i class="fas fa-link"></i></a>
</h3>
<p>O R é uma ferramenta poderosa para realização dessas operações, com diversos pacotes disponíveis para essa finalidade. Neste tutorial, iremos explorar algumas das principais funções do pacote vegan, que permite realizar transformações e relativizações de dados de forma simples e eficiente. Além disso, também utilizaremos outras bibliotecas importantes para reorganização e visualozação de dados. O tutorial irá abordar desde as operações básicas, como filtragem e seleção de dados, até as transformações mais complexas, como a normalização de dados e a relativização por medidas de biomassa ou área. Com exemplos práticos e ilustrações gráficas, o objetivo é permitir que os usuários do R possam aplicar essas técnicas em suas próprias análises e estudos de Ecologia Numérica. Ao final do tutorial, espera-se que o usuário esteja apto a realizar transformações e relativizações de dados em suas próprias análises, aumentando a qualidade e a precisão dos resultados obtidos.</p>
</div>
<div id="organização-básica-8" class="section level2" number="14.1">
<h2>
<span class="header-section-number">14.1</span> Organização básica<a class="anchor" aria-label="anchor" href="#organiza%C3%A7%C3%A3o-b%C3%A1sica-8"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb371"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span> <span class="co">#apaga os graficos, se houver algum</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>all<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="co">#limpa a memória</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"\014"</span><span class="op">)</span> <span class="co">#limpa o console </span></span></code></pre></div>
<p>Instalando os pacotes necessários para esse módulo</p>
<div class="sourceCode" id="cb372"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"openxlsx"</span><span class="op">)</span> <span class="co">#importa arquivos do excel</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"moments"</span><span class="op">)</span> <span class="co">#calcula assimetria e curtose dos dados</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"vegan"</span><span class="op">)</span> <span class="co">#estatisticas para ecologia de comunidades</span></span></code></pre></div>
<p>Agora vamos <strong>definir o diretório de trabalho</strong>. Esse código é usado para obter e definir o diretório de trabalho atual no R. O comando <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> retorna o caminho do diretório onde o R está lendo e salvando arquivos. O comando <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> muda esse diretório de trabalho para o caminho especificado entre aspas. No seu caso, você deve ajustar o caminho para o seu próprio diretório de trabalho. <strong>Lembre de usar a barra “/” entre os diretórios. E não a contra-barra “\”.</strong></p>
<p>Definindo o diretório de trabalho e installando os pacotes necessários:</p>
<div class="sourceCode" id="cb373"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Seu/Diretório/De/Trabalho"</span><span class="op">)</span></span></code></pre></div>
<div id="importando-a-planilha-7" class="section level3" number="14.1.1">
<h3>
<span class="header-section-number">14.1.1</span> Importando a planilha<a class="anchor" aria-label="anchor" href="#importando-a-planilha-7"><i class="fas fa-link"></i></a>
</h3>
<p>Note que o símbolo <span style="color:green"><code>#</code></span> em programação R significa que o texto que vem depois dele é um comentário e não será executado pelo programa. Isso é útil para explicar o código ou deixar anotações.<br>
- Ajuste a primeira linha do código abaixo para refletir <span style="color:blue">“C:/Seu/Diretório/De/Trabalho/Planilha.xlsx”</span>.<br>
- Ajuste o parâmetro <code>sheet = "Sheet1"</code> para refletir a aba correta do arquivo .xlsx a ser importado.</p>
<div class="sourceCode" id="cb374"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ycphs.github.io/openxlsx/index.html">openxlsx</a></span><span class="op">)</span></span>
<span><span class="co">#dir &lt;- getwd() #criamos um vetor com o diretório  de trbalho </span></span>
<span><span class="co">#shell.exec(dir) #abre o diretorio de trabalho no Windows Explorer</span></span>
<span><span class="va">m_bruta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/read.xlsx.html">read.xlsx</a></span><span class="op">(</span><span class="st">"D:/Elvio/OneDrive/Disciplinas/_EcoNumerica/5.Matrizes/ppbio06c-peixes.xlsx"</span>,</span>
<span>                   rowNames <span class="op">=</span> <span class="cn">T</span>, colNames <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                   sheet <span class="op">=</span> <span class="st">"Sheet1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="co">#View(m_bruta)</span></span>
<span><span class="va">m_bruta</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="co">#[1:5,1:5] mostra apenas as linhas e colunas de 1 a 5.</span></span></code></pre></div>
<pre><code>## 'data.frame':    26 obs. of  35 variables:
##  $ ap-davis : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ as-bimac : num  1 99 194 19 23 142 5 46 206 16 ...
##  $ as-fasci : num  0 0 55 0 1 3 1 0 64 0 ...
##  $ ch-bimac : num  0 0 0 0 13 3 0 178 0 0 ...
##  $ ci-ocela : num  0 0 0 0 0 0 40 0 0 13 ...
##  $ ci-orien : num  0 0 5 0 0 69 9 0 25 24 ...
##  $ co-macro : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ co-heter : num  0 0 1 0 0 0 0 0 0 0 ...
##  $ cr-menez : num  0 0 14 0 0 4 0 0 8 0 ...
##  $ cu-lepid : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ cy-gilbe : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ ge-brasi : num  0 0 3 0 0 0 0 0 1 0 ...
##  $ he-margi : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ ho-malab : num  0 0 1 5 0 17 10 2 31 4 ...
##  $ hy-pusar : num  0 0 9 2 0 43 2 0 11 0 ...
##  $ le-melan : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ le-piau  : num  0 0 3 0 0 1 3 0 2 1 ...
##  $ le-taeni : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ mo-costa : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ mo-lepid : num  0 1 39 0 0 1 0 0 0 0 ...
##  $ or-nilot : num  0 2 36 0 0 77 0 0 138 0 ...
##  $ pa-manag : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ pimel-sp : num  0 0 6 0 0 0 0 0 0 0 ...
##  $ po-retic : num  0 0 0 0 0 20 0 0 5 0 ...
##  $ po-vivip : num  0 0 47 15 0 221 32 0 326 10 ...
##  $ pr-brevi : num  9 0 5 0 1 15 5 2 164 0 ...
##  $ ps-rhomb : num  0 0 0 0 0 0 0 0 1 0 ...
##  $ ps-genise: num  0 0 0 0 0 0 0 0 1 0 ...
##  $ se-heter : num  0 0 40 14 4 60 0 0 38 0 ...
##  $ se-piaba : num  0 0 68 0 0 0 0 0 0 0 ...
##  $ se-spilo : num  0 0 0 0 0 0 0 0 1 0 ...
##  $ st-noton : num  0 0 1 0 0 25 0 0 115 0 ...
##  $ sy-marmo : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ te-chalc : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ tr-signa : num  0 0 18 0 0 15 0 0 7 0 ...
##         ap-davis as-bimac as-fasci ch-bimac ci-ocela
## S-A-ZA1        0        1        0        0        0
## S-R-CC1        0       99        0        0        0
## S-R-CT1        0      194       55        0        0
## S-R-CP1        0       19        0        0        0
## S-A-TA1        0       23        1       13        0</code></pre>
<p>Exibindo os dados importados (esses comando são “case-sensitive” <code>ignore.case(object)</code>).</p>
<div class="sourceCode" id="cb376"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#View(m_bruta)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">m_bruta</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span></code></pre></div>
<p>Podemos exibir a planilha depois de ter sido importada para o ambiente R/RStudio usando as funções <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code>, <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> ou <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>. Note que essas funções são case-sensitive. A função <code>ignore.case()</code> é uma função do pacote <code>stringr</code> que modifica um padrão para que ele não considere o caso das letras nas correspondências. Por exemplo, se você quiser encontrar todas as ocorrências da letra “a” em um vetor de caracteres, independente de ser “A” ou “a”, você pode usar essa função.</p>
<div class="sourceCode" id="cb377"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#View(m_bruta)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span></code></pre></div>
<p>A função <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> no RStudio é uma forma de ver as primeiras <code>(n=6)</code> linhas de um objeto, como um vetor, uma matriz, um data frame ou uma lista. Ela é útil para ter uma ideia do conteúdo e da estrutura do objeto.</p>
<p>Também podemos explorar as características da planilha usando as funções <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>, <code><a href="https://rdrr.io/r/base/mode.html">mode()</a></code>, <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> e <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>. O número de observações ou tamanho do vetor depende do tipo de dados, se eles são uma matrix ou um data.frame.</p>
<div id="abreviações" class="section level4 unnumbered">
<h4>Abreviações<a class="anchor" aria-label="anchor" href="#abrevia%C3%A7%C3%B5es"><i class="fas fa-link"></i></a>
</h4>
<p>No interesse de sistematizar o código R das várias matrizes que são comumente usadas em uma AMD, a tabela <a href="reltrns.html#tab:5tblm-2">14.1</a>, a seguir, resume seus tipos e abreviações.</p>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:5tblm-2">Tabela 14.1: </span>Nomenclatura das matrizes em AMD em relação aos atributos das colunas
</caption>
<thead><tr>
<th style="text-align:left;">
Nome
</th>
<th style="text-align:center;">
Atributos (colunas)
</th>
<th style="text-align:center;">
Abreviação no R
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz comunitaria
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos são táxons ou OTU’s (Unidades Taxonômicas Operacionais) (ex. espécies, gêneros, morfotipos)
</td>
<td style="text-align:center;width: 2cm; ">
m_com
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz ambiental
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos são dados ambientais e variáveis físicas e químicas (ex. pH, condutividade, temperatura)
</td>
<td style="text-align:center;width: 2cm; ">
m_amb
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz de habitat
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos são elementos da estrutura do habitat (ex. macróficas, algas, pedras, lama, etc)
</td>
<td style="text-align:center;width: 2cm; ">
m_hab
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz bruta
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos ainda não receberam nenhum tipo de tratamento estatísco (valores brutos, como coletados)
</td>
<td style="text-align:center;width: 2cm; ">
m_bruta
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz transposta
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos foram transpostos para as linhas
</td>
<td style="text-align:center;width: 2cm; ">
m_t
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz relativizada
</td>
<td style="text-align:center;width: 2cm; ">
Os atributos foram relativizados por um critério de tamanho ou de variação (ex. dividir os valores de cada coluna pela soma)
</td>
<td style="text-align:center;width: 2cm; ">
m_rel, m_relcol, m_rellin
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz transformada
</td>
<td style="text-align:center;width: 2cm; ">
Foi aplicado um operador matemático a todos os atributos (ex. raiz quadrada, log)
</td>
<td style="text-align:center;width: 2cm; ">
m_trns, m_log10, m_asrq
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz de distâncias
</td>
<td style="text-align:center;width: 2cm; ">
Matriz de m x m similaridades ou de distâncias (ex. Euclidiana, Manhattan, Bray-Curtis, etc)
</td>
<td style="text-align:center;width: 2cm; ">
m_dists, m_euclid, m_bray
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz de trabalho
</td>
<td style="text-align:center;width: 2cm; ">
Qualquer matriz que seja o foco da análise atual (ex. comunitária, relativizada, etc)
</td>
<td style="text-align:center;width: 2cm; ">
m_trab
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Matriz particionada
</td>
<td style="text-align:center;width: 2cm; ">
Foram removidas linhas ou colunas (ex. linhas que são outliers e espécies zeradas)
</td>
<td style="text-align:center;width: 2cm; ">
m_part
</td>
</tr>
<tr>
<td style="text-align:left;width: 2cm; ">
Base de dados
</td>
<td style="text-align:center;width: 2cm; ">
Arquivo do Excel planilhado a partir de dados de campo ou de laboratório. Será manejada e particionada no R, para criar a Matriz bruta
</td>
<td style="text-align:center;width: 2cm; ">
ppbio06.xlsx, zoorebio.xlsx, bentos06.xlsx
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div id="tamanho-da-matriz" class="section level2" number="14.2">
<h2>
<span class="header-section-number">14.2</span> Tamanho da matriz<a class="anchor" aria-label="anchor" href="#tamanho-da-matriz"><i class="fas fa-link"></i></a>
</h2>
<p>Podemos agora calcular o número e a proporção de zeros na matriz usando as funções <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> e <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> (Você pode pesquisar o que faz a função <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> usando o comando <code><a href="https://rdrr.io/r/base/length.html">?length</a></code>).</p>
<div class="sourceCode" id="cb378"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#menor e maior valores</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de N colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de M linhas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span> <span class="co">#soma os nos. de colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span> <span class="co">#tamanho da matriz m x n</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># número de observações igual a zero</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># número de observações maiores que zero</span></span>
<span><span class="va">zeros</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span> <span class="co"># proporção de zeros na matriz</span></span>
<span><span class="va">zeros</span></span></code></pre></div>
<pre><code>## [1]   0 511
## [1] 35
## [1] 35
## [1] 26
## [1] 910
## [1] 910
## [1] 716
## [1] 194
## [1] 78.68132</code></pre>
<p>Tabela que resume as informações geradas (<a href="reltrns.html#tab:tbl5-tam">14.2</a>).</p>
<div class="sourceCode" id="cb380"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tamanho</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  Comando <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"range"</span>, <span class="st">"lenght"</span>, <span class="st">"m cols"</span>, <span class="st">"n linhas"</span>, <span class="st">"Tamanho"</span>, <span class="st">"Tamanho"</span>,</span>
<span>             <span class="st">"Zeros"</span>, <span class="st">"Nao zeros"</span>, <span class="st">"% Zeros"</span><span class="op">)</span>,</span>
<span>  Resultado <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">" - "</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">zeros</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tamanho</span></span></code></pre></div>
<pre><code>##     Comando Resultado
## 1     range   0 - 511
## 2    lenght        35
## 3    m cols        35
## 4  n linhas        26
## 5   Tamanho       910
## 6   Tamanho       910
## 7     Zeros       716
## 8 Nao zeros       194
## 9   % Zeros      78.7</code></pre>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tbl5-tam">Tabela 14.2: </span>Resumo das informações geradas.
</caption>
<thead><tr>
<th style="text-align:left;">
Comando
</th>
<th style="text-align:left;">
Resultado
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
range
</td>
<td style="text-align:left;">
0 - 511
</td>
</tr>
<tr>
<td style="text-align:left;">
lenght
</td>
<td style="text-align:left;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
m cols
</td>
<td style="text-align:left;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
n linhas
</td>
<td style="text-align:left;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Tamanho
</td>
<td style="text-align:left;">
910
</td>
</tr>
<tr>
<td style="text-align:left;">
Tamanho
</td>
<td style="text-align:left;">
910
</td>
</tr>
<tr>
<td style="text-align:left;">
Zeros
</td>
<td style="text-align:left;">
716
</td>
</tr>
<tr>
<td style="text-align:left;">
Nao zeros
</td>
<td style="text-align:left;">
194
</td>
</tr>
<tr>
<td style="text-align:left;">
% Zeros
</td>
<td style="text-align:left;">
78.7
</td>
</tr>
</tbody>
</table></div>
<p>Ou seja, temos uma matriz de tamanho <code>m x n</code> igual a 26 objetos por 35 atributos, onde 78.68% dos valores da matriz são iguais a zero!</p>
</div>
<div id="reset-point-1-1" class="section level2" number="14.3">
<h2>
<span class="header-section-number">14.3</span> Reset point 1<a class="anchor" aria-label="anchor" href="#reset-point-1-1"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb382"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_trab</span> <span class="op">&lt;-</span> <span class="va">m_bruta</span></span></code></pre></div>
<p>Aqui cria-se um novo objeto do R (<code>m_trab</code>, ou a matriz de trabalho, para esse momento) que substitui a matriz de dados original, por uma nova matriz que pode ser a matriz relativizada, transformada, transposta, etc. Dessa forma, mantemos a matriz de dados original caso precisemos dela novamente (Veja a Tabela Tabela @ref(tab:5tblm_2)).</p>
</div>
<div id="cálculo-da-matriz-de-distâncias" class="section level2" number="14.4">
<h2>
<span class="header-section-number">14.4</span> Cálculo da matriz de distâncias<a class="anchor" aria-label="anchor" href="#c%C3%A1lculo-da-matriz-de-dist%C3%A2ncias"><i class="fas fa-link"></i></a>
</h2>
<p>Agora vamos calcular a matriz de distâncias euclidiana (<span class="citation">LEGENDRE; LEGENDRE (<a href="#ref-RN1278" role="doc-biblioref">1998</a>)</span>, <span class="citation">BORCARD; GILLET; LEGENDRE (<a href="#ref-RN1336" role="doc-biblioref">2018</a>)</span>) entre as UA´s usando a função <code><a href="https://rdrr.io/r/stats/dist.html">dist()</a></code> (pesquise o que faz essa função usando o comando <code><a href="https://rdrr.io/r/stats/dist.html">?dist</a></code>).</p>
<div class="sourceCode" id="cb383"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_dists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="va">m_trab</span>, method <span class="op">=</span> <span class="st">"euclidian"</span>, diag <span class="op">=</span> <span class="cn">TRUE</span>, upper <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Pronto, calculamos a matriz de distâncias (euclidiana). Agora podemos visualizar a matriz.</p>
<div class="sourceCode" id="cb384"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#m_dists</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  'dist' num [1:325] 98.4 228.5 29.2 27.1 294.1 ...
##  - attr(*, "Size")= int 26
##  - attr(*, "Labels")= chr [1:26] "S-A-ZA1" "S-R-CC1" "S-R-CT1" "S-R-CP1" ...
##  - attr(*, "Diag")= logi TRUE
##  - attr(*, "Upper")= logi FALSE
##  - attr(*, "method")= chr "euclidean"
##  - attr(*, "call")= language dist(x = m_trab, method = "euclidian", diag = TRUE, upper = FALSE)
## [1] "numeric"
## [1] "dist"
## [1] 676
##           S-A-ZA1   S-R-CC1  S-R-CT1   S-R-CP1   S-A-TA1  S-R-CT2   S-R-CP2
## S-A-ZA1   0.00000  98.43780 228.5235  29.24038  27.09243 294.0629  53.40412
## S-R-CC1  98.43780   0.00000 154.2433  82.79493  77.25283 261.3905 108.10180
## S-R-CT1 228.52352 154.24331   0.0000 208.52338 209.69263 224.9133 224.09150
## S-R-CP1  29.24038  82.79493 208.5234   0.00000  23.25941 271.4922  49.22398
## S-A-TA1  27.09243  77.25283 209.6926  23.25941   0.00000 283.7869  57.82733
## S-R-CT2 294.06292 261.39051 224.9133 271.49217 283.78689   0.0000 268.95167
## S-R-CP2  53.40412 108.10180 224.0915  49.22398  57.82733 268.9517   0.00000
## S-A-TA2 183.74439 185.75791 261.8301 181.24845 166.66133 326.3327 190.15257
## S-R-CT3 460.42155 428.64437 366.6429 443.90877 453.59674 238.3799 438.54532
## S-R-CP3  34.17601  88.06816 215.2557  31.32092  33.13608 275.0436  40.37326
##          S-A-TA2  S-R-CT3   S-R-CP3
## S-A-ZA1 183.7444 460.4215  34.17601
## S-R-CC1 185.7579 428.6444  88.06816
## S-R-CT1 261.8301 366.6429 215.25566
## S-R-CP1 181.2484 443.9088  31.32092
## S-A-TA1 166.6613 453.5967  33.13608
## S-R-CT2 326.3327 238.3799 275.04363
## S-R-CP2 190.1526 438.5453  40.37326
## S-A-TA2   0.0000 478.9008 182.86060
## S-R-CT3 478.9008   0.0000 449.24826
## S-R-CP3 182.8606 449.2483   0.00000</code></pre>
<p>Uma matriz do tipo <code>dist</code> no R é um objeto que armazena as distâncias entre as linhas de uma matriz ou um data frame. Ela é criada pela função <code><a href="https://rdrr.io/r/stats/dist.html">dist()</a></code>, que calcula as distâncias usando diferentes medidas, como “euclidean”, “manhattan”, “canberra”, “binary” ou “minkowski” <span class="citation">(<a href="#ref-RN419" role="doc-biblioref">HORTON; KLEINMAN, 2015</a>)</span>.</p>
<div class="sourceCode" id="cb386"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_trab</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co">#CENTROIDE!! ou Grand mean</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>  <span class="co">#standard deviation</span></span>
<span><span class="va">centroide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="va">centroide</span></span></code></pre></div>
<pre><code>## [1]   0 511
## [1]  16.27882 707.32666
## [1] 16.27882
## [1] 707.3267
## [1] 285.9043
## [1] 172.9708
## [1] 285.9043</code></pre>
<p>A função <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> calcula a média de todos os valores da matriz de distâncias, ou seja, a média multivariada, que é o centróide. Nesse caso o <strong>centroide assume o valor de 285.9</strong>. Usamos agora a fórmula <code>m*(m-1)/2</code>, onde <code>m</code> é o no. de objetos sendo comparados, para calcular quantas distâcias temos na nossa matriz.</p>
<div class="sourceCode" id="cb388"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">m</span></span>
<span><span class="va">m</span><span class="op">*</span><span class="op">(</span><span class="va">m</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 325
## [1] 26
## [1] 325
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   16.28  142.70  242.82  285.90  423.64  707.33</code></pre>
<p>Temos então que m é 26 objetos (ou linhas), e portanto, a matriz de distâncias tem 325 valores. Fazemos agora um breve sumário do que foi calculado até agora com base na matriz de distâncias.</p>
<div class="sourceCode" id="cb390"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Sumario1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Sumario1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Minimo"</span>, <span class="st">"Maximo"</span>, <span class="st">"Desv.Padr"</span>, <span class="st">"Media"</span>, <span class="st">"m(m-1)/2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">Sumario1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="st">"Valores"</span><span class="op">)</span></span>
<span><span class="va">Sumario1</span></span></code></pre></div>
<pre><code>##           Minimo   Maximo Desv.Padr    Media m(m-1)/2
## Valores 16.27882 707.3267  172.9708 285.9043      325</code></pre>
<p>A matriz <code>m_dists</code> está como uma classe <code>dist</code>, mas podemos transformá-la em uma classe <code>matrix</code> usando a função <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code>.</p>
<div class="sourceCode" id="cb392"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dist</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(dist)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="co">#head(dist)</span></span>
<span><span class="va">dist</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="co">#mostra as 5 primeiras linhas e colunas da matriz</span></span></code></pre></div>
<pre><code>##  num [1:26, 1:26] 0 98.4 228.5 29.2 27.1 ...
##  - attr(*, "dimnames")=List of 2
##   ..$ : chr [1:26] "S-A-ZA1" "S-R-CC1" "S-R-CT1" "S-R-CP1" ...
##   ..$ : chr [1:26] "S-A-ZA1" "S-R-CC1" "S-R-CT1" "S-R-CP1" ...
## [1] "numeric"
## [1] "matrix" "array" 
##           S-A-ZA1   S-R-CC1  S-R-CT1   S-R-CP1   S-A-TA1
## S-A-ZA1   0.00000  98.43780 228.5235  29.24038  27.09243
## S-R-CC1  98.43780   0.00000 154.2433  82.79493  77.25283
## S-R-CT1 228.52352 154.24331   0.0000 208.52338 209.69263
## S-R-CP1  29.24038  82.79493 208.5234   0.00000  23.25941
## S-A-TA1  27.09243  77.25283 209.6926  23.25941   0.00000</code></pre>
<p>Visualizando a matriz de distâncias, observamos que ela é uma matriz quadrada que contém as distâncias entre cada par de elementos do conjuto de dados. A matriz de distâncias terá dimensão m x m, e cada elemento da matriz será a distância entre cada par de observações ou objetos. A matriz de distâncias é simétrica, pois a distância entre i e j é igual à distância entre j e i. A matriz de distâncias também tem diagonal zero, pois a distância entre uma observação e ela mesma é zero.</p>
</div>
<div id="distribuição-de-frequência-da-matriz-de-distâncias" class="section level2" number="14.5">
<h2>
<span class="header-section-number">14.5</span> Distribuição de frequência da matriz de distâncias<a class="anchor" aria-label="anchor" href="#distribui%C3%A7%C3%A3o-de-frequ%C3%AAncia-da-matriz-de-dist%C3%A2ncias"><i class="fas fa-link"></i></a>
</h2>
<p>Por fim, vamos produzir uma distribuição de frequência da matriz de distâncias, mas antes vamos explorar alguns parâmetros básicos da matriz de distâncias, como o intervalo, a média e o desvio padrão. Para isso, usamos as funções <code><a href="https://rdrr.io/r/base/range.html">range()</a></code>, <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> e <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code> do R.</p>
<div id="calculando-alguns-parâmetros-básicos" class="section level3" number="14.5.1">
<h3>
<span class="header-section-number">14.5.1</span> Calculando alguns parâmetros básicos<a class="anchor" aria-label="anchor" href="#calculando-alguns-par%C3%A2metros-b%C3%A1sicos"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb394"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># intervalo dos valores da matriz</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># média dos valores da matriz</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># desvio padrão dos valores da matriz</span></span></code></pre></div>
<pre><code>## [1]  16.27882 707.32666
## [1] 285.9043
## [1] 172.9708</code></pre>
<p>Esses comandos mostram que o <code>menor, maior</code> valores na matriz de distância foram 16.28, 707.33, enquanto que a média foi de 285.9 com um desvio padrão de 172.97.</p>
<div id="hello" class="greeting message" style="color: green;">
<p><span style="color:red">IMPORTANTE</span>
Lembre que no R e RStudio, a vírgula é usada como separador de decimal e o ponto é apenas indicador de milhar. Por exemplo, 2.500,50 lê-se dois mil e quinhentos e 50 décimos.</p>
</div>
<p>Também podemos calcular a assimetria e a curtose da matriz de distâncias, que são medidas que indicam o grau de desvio da normalidade da distribuição. Para isso, precisamos carregar o pacote <code>moments</code>, que contém as funções <code><a href="https://rdrr.io/pkg/moments/man/skewness.html">skewness()</a></code> (assimetria) e <code><a href="https://rdrr.io/pkg/moments/man/kurtosis.html">kurtosis()</a></code> (curtose).</p>
</div>
<div id="calculando-a-assimetria-e-a-curtose" class="section level3" number="14.5.2">
<h3>
<span class="header-section-number">14.5.2</span> Calculando a assimetria e a curtose<a class="anchor" aria-label="anchor" href="#calculando-a-assimetria-e-a-curtose"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb396"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.r-project.org">moments</a></span><span class="op">)</span></span>
<span><span class="va">sk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/moments/man/skewness.html">skewness</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span> <span class="co">#calcula a assimetria da matriz</span></span>
<span><span class="va">ku</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/moments/man/kurtosis.html">kurtosis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span> <span class="co">#calcula a curtose da matriz</span></span>
<span><span class="va">sku</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">sk</span>,<span class="va">ku</span><span class="op">)</span> <span class="co"># junta os dois valores em um vetor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">sku</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"assimetria"</span>, <span class="st">"curtose"</span><span class="op">)</span> <span class="co"># nomeia as colunas do vetor</span></span>
<span><span class="va">sku</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span> <span class="co"># mostra as primeiras 10 linhas desse vetor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">sku</span><span class="op">)</span> <span class="co"># mostra um resumo estatístico do vetor</span></span></code></pre></div>
<pre><code>##          assimetria   curtose
## S-A-ZA1  1.03617037  3.101029
## S-R-CC1  1.21511849  3.852134
## S-R-CT1  0.91278496  6.263889
## S-R-CP1  1.06839482  3.177206
## S-A-TA1  1.07960546  3.220821
## S-R-CT2  0.05290597  6.265832
## S-R-CP2  1.08571040  3.241712
## S-A-TA2  1.25111833  4.838956
## S-R-CT3 -2.35918827 10.736848
## S-R-CP3  1.06511174  3.178170
##    assimetria         curtose      
##  Min.   :-3.9660   Min.   : 2.946  
##  1st Qu.: 0.1891   1st Qu.: 3.226  
##  Median : 1.0531   Median : 3.793  
##  Mean   : 0.3625   Mean   : 5.248  
##  3rd Qu.: 1.1593   3rd Qu.: 5.659  
##  Max.   : 1.2826   Max.   :18.799</code></pre>
</div>
</div>
<div id="distribuição-de-frequências-da-matriz-de-distâncias" class="section level2" number="14.6">
<h2>
<span class="header-section-number">14.6</span> Distribuição de frequências da matriz de distâncias<a class="anchor" aria-label="anchor" href="#distribui%C3%A7%C3%A3o-de-frequ%C3%AAncias-da-matriz-de-dist%C3%A2ncias"><i class="fas fa-link"></i></a>
</h2>
<p>Agora que temos uma ideia dos parâmetros básicos da matriz de distâncias, vamos entender sua distribuição de frequência usando um histograma e um boxplot. O histograma mostra a frequência relativa de cada intervalo de valores da matriz, enquanto o boxplot mostra a mediana, os quartis e os valores extremos da matriz.</p>
<p>Para fazer os gráficos, usamos as funções <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> e <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot.default()</a></code> do R. Também usamos a função <code><a href="https://rdrr.io/r/graphics/curve.html">curve()</a></code> para sobrepor uma curva de normalidade ao histograma, e a função par para ajustar os parâmetros gráficos.</p>
<p>Nas linhas <code>xlim = (), # limites dos eixos</code> do código abaixo, os limites dos eixos do gráfico a ser criado foram definidos entre 0 e 707.3266572. No seu caso, você deve ajustar os valores de <code>xlim</code> para que eles sejam os limites dos valores da sua matriz, definidos pela linha <code>range(dist)</code> <em>(primeira linha do código abaixo)</em>.</p>
<p>Em resumo, o código abaixo plota um histograma e um boxplot da distribuição de dados armazenada na matriz de distâncias. Também é adicionada uma curva normal teórica ao histograma utilizando a média e o desvio padrão dos dados (Figura <a href="reltrns.html#fig:5dists">14.1</a>. As funções <code>floor(min(m_dists))</code> e <code>ceiling(max(m_dists))</code> definem os limites dos graficos pelo valores mínimo e máximo do objeto.</p>
<div class="sourceCode" id="cb398"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="co"># esse comando faz os gráficos aparecerem um acima do outro</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">m_dists</span>,</span>
<span>     breaks <span class="op">=</span> <span class="fl">20</span>, <span class="co"># determina o número de colunas do histograma</span></span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="co"># limites dos eixos</span></span>
<span>     xlab <span class="op">=</span> <span class="st">"Distr. de Frequências"</span>,</span>
<span>     freq <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># mostra as frequências relativas em vez das absolutas</span></span>
<span>     main <span class="op">=</span> <span class="st">"Histograma e boxplot da matriz de distâncias"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/curve.html">curve</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">dnorm</a></span><span class="op">(</span><span class="va">x</span>, mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>, sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># sobrepõe a curva de normalidade</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot.default</a></span><span class="op">(</span><span class="va">m_dists</span>, horizontal <span class="op">=</span> <span class="cn">TRUE</span>, frame <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                xlab<span class="op">=</span><span class="st">"Distr. de Frequências"</span>,</span>
<span>                ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># limites dos eixos</span></span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:5dists"></span>
<img src="fundamentos_de_ecologia_numerica_files/figure-html/5dists-1.png" alt="Distribuições de frequências da matriz de distâncias" width="672"><p class="caption">
Figura 14.1: Distribuições de frequências da matriz de distâncias
</p>
</div>
<pre><code>## [1]  16.27882 707.32666</code></pre>
<div id="hello" class="greeting message" style="color: green;">
<p><span style="color:red">IMPORTANTE</span>
[Atenção:] Se você recebeu a mensagem de erro <span style="color:red">“Error in plot.new() : figure margins too large”</span>, aumente o tamanho da janela do gráfico e execute o bloco de comandos novamente.</p>
</div>
<p>O comando abaixo apaga os gráficos.</p>
<div class="sourceCode" id="cb400"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="relativizando-e-transformando-a-base-de-dados" class="section level2" number="14.7">
<h2>
<span class="header-section-number">14.7</span> Relativizando e transformando a base de dados<a class="anchor" aria-label="anchor" href="#relativizando-e-transformando-a-base-de-dados"><i class="fas fa-link"></i></a>
</h2>
<p>Na sequencia de códigos a seguir o R realiza relativizações e transformações em dados biológicos (<span class="citation">SOKAL; ROHLF (<a href="#ref-RN67" role="doc-biblioref">1995</a>)</span>). Vamos ver passo a passo o que cada seção do código faz. Os códigos para as demais principais relativizações estão <a href="reltrns.html#relativiza%C3%A7%C3%B5es">AQUI</a></p>
<div class="sourceCode" id="cb401"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vegandevs/vegan">vegan</a></span><span class="op">)</span></span></code></pre></div>
<p>Essa linha carrega o pacote <code>vegan</code> no ambiente R, permitindo o uso de suas funções. O pacote <code>vegan</code> é um pacote do R para análise de ecologia numérica e comunidades biológicas. Ele fornece uma ampla variedade de funções para análise de dados ecológicos, como análise de diversidade, ordenação de espécies, análise de similaridade, entre outras.</p>
<p>A função <code><a href="https://rdrr.io/pkg/vegan/man/decostand.html">decostand()</a></code> é usada para relativizar os dados armazenados na matriz de trabalho (<code>m_trab</code>). O parâmetro <code>method</code> especifica o método de relativização, neste caso <em>“total”</em> (relativização pelo total de cada coluna). Outros métodos disponíveis são <em>max, normalize, range e rankm</em> (@ref(tab:(5tbl-rel)). O parâmetro <code>MARGIN</code> especifica em qual dimensão os cálculos devem ser feitos <em>(1 para linhas, 2 para colunas)</em>. Neste caso, <code>MARGIN=2</code> (colunas). A variável <code>m_relcol</code> armazena o resultado da relativização. Sokal e Rohlf (<span class="citation">SOKAL; ROHLF (<a href="#ref-RN286" role="doc-biblioref">1987</a>)</span>) tratam dos diversos tipos de relativizações e transformações em dados ecológicos.</p>
<div id="relativização-pelo-total" class="section level3" number="14.7.1">
<h3>
<span class="header-section-number">14.7.1</span> Relativização pelo total<a class="anchor" aria-label="anchor" href="#relativiza%C3%A7%C3%A3o-pelo-total"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb402"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_relcol</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/vegan/man/decostand.html">decostand</a></span><span class="op">(</span><span class="va">m_trab</span>,</span>
<span>                         method<span class="op">=</span><span class="st">"total"</span>,</span>
<span>                         MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol)</span></span>
<span><span class="va">m_relcol</span></span></code></pre></div>
<pre><code>##          ap-davis     as-bimac    as-fasci    ch-bimac   ci-ocela   ci-orien
## S-A-ZA1 0.0000000 0.0004191115 0.000000000 0.000000000 0.00000000 0.00000000
## S-R-CC1 0.0000000 0.0414920369 0.000000000 0.000000000 0.00000000 0.00000000
## S-R-CT1 0.0000000 0.0813076278 0.348101266 0.000000000 0.00000000 0.03496503
## S-R-CP1 0.0000000 0.0079631182 0.000000000 0.000000000 0.00000000 0.00000000
## S-A-TA1 0.0000000 0.0096395641 0.006329114 0.018439716 0.00000000 0.00000000
## S-R-CT2 0.0000000 0.0595138307 0.018987342 0.004255319 0.00000000 0.48251748
## S-R-CP2 0.0000000 0.0020955574 0.006329114 0.000000000 0.57142857 0.06293706
## S-A-TA2 0.0000000 0.0192791282 0.000000000 0.252482270 0.00000000 0.00000000
## S-R-CT3 0.0000000 0.0863369656 0.405063291 0.000000000 0.00000000 0.17482517
## S-R-CP3 0.0000000 0.0067057837 0.000000000 0.000000000 0.18571429 0.16783217
## S-A-TA3 0.0000000 0.0980720872 0.044303797 0.337588652 0.00000000 0.00000000
## S-R-CT4 0.0000000 0.0000000000 0.006329114 0.000000000 0.00000000 0.03496503
## S-R-CP4 0.0000000 0.0000000000 0.000000000 0.000000000 0.15714286 0.04195804
## S-A-TA4 0.0000000 0.1651299246 0.000000000 0.387234043 0.00000000 0.00000000
## B-A-MU1 0.0000000 0.0050293378 0.000000000 0.000000000 0.00000000 0.00000000
## B-R-ET1 0.0000000 0.0012573345 0.000000000 0.000000000 0.00000000 0.00000000
## B-A-GU1 0.0000000 0.0008382230 0.012658228 0.000000000 0.00000000 0.00000000
## B-R-PC2 0.1851852 0.0184409053 0.000000000 0.000000000 0.02857143 0.00000000
## B-A-MU2 0.0000000 0.0414920369 0.000000000 0.000000000 0.00000000 0.00000000
## B-A-GU2 0.0000000 0.0000000000 0.000000000 0.000000000 0.00000000 0.00000000
## B-R-PC3 0.8148148 0.0314333613 0.044303797 0.000000000 0.05714286 0.00000000
## B-A-MU3 0.0000000 0.2141659681 0.000000000 0.000000000 0.00000000 0.00000000
## B-A-GU3 0.0000000 0.0025146689 0.000000000 0.000000000 0.00000000 0.00000000
## B-R-PC4 0.0000000 0.0029337804 0.107594937 0.000000000 0.00000000 0.00000000
## B-A-MU4 0.0000000 0.0984911987 0.000000000 0.000000000 0.00000000 0.00000000
## B-A-GU4 0.0000000 0.0054484493 0.000000000 0.000000000 0.00000000 0.00000000
##         co-macro co-heter   cr-menez cu-lepid  cy-gilbe     ge-brasi he-margi
## S-A-ZA1        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-R-CC1        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-R-CT1        0        1 0.50000000        0 0.0000000 0.0029411765      0.0
## S-R-CP1        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-A-TA1        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-R-CT2        0        0 0.14285714        0 0.0000000 0.0000000000      0.5
## S-R-CP2        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-A-TA2        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-R-CT3        0        0 0.28571429        0 0.0000000 0.0009803922      0.0
## S-R-CP3        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-A-TA3        1        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-R-CT4        0        0 0.03571429        0 0.3816794 0.0029411765      0.5
## S-R-CP4        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## S-A-TA4        0        0 0.03571429        0 0.0000000 0.0009803922      0.0
## B-A-MU1        0        0 0.00000000        0 0.0000000 0.1862745098      0.0
## B-R-ET1        0        0 0.00000000        0 0.0000000 0.0000000000      0.0
## B-A-GU1        0        0 0.00000000        0 0.0000000 0.0068627451      0.0
## B-R-PC2        0        0 0.00000000        0 0.0000000 0.0078431373      0.0
## B-A-MU2        0        0 0.00000000        0 0.0000000 0.0656862745      0.0
## B-A-GU2        0        0 0.00000000        0 0.0000000 0.0225490196      0.0
## B-R-PC3        0        0 0.00000000        1 0.0000000 0.0156862745      0.0
## B-A-MU3        0        0 0.00000000        0 0.0000000 0.1421568627      0.0
## B-A-GU3        0        0 0.00000000        0 0.0000000 0.0313725490      0.0
## B-R-PC4        0        0 0.00000000        0 0.6183206 0.0049019608      0.0
## B-A-MU4        0        0 0.00000000        0 0.0000000 0.4990196078      0.0
## B-A-GU4        0        0 0.00000000        0 0.0000000 0.0098039216      0.0
##            ho-malab   hy-pusar le-melan    le-piau le-taeni mo-costa   mo-lepid
## S-A-ZA1 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## S-R-CC1 0.000000000 0.00000000        0 0.00000000        0        0 0.02439024
## S-R-CT1 0.009174312 0.12676056        0 0.20000000        0        0 0.95121951
## S-R-CP1 0.045871560 0.02816901        0 0.00000000        0        0 0.00000000
## S-A-TA1 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## S-R-CT2 0.155963303 0.60563380        0 0.06666667        0        0 0.02439024
## S-R-CP2 0.091743119 0.02816901        0 0.20000000        0        0 0.00000000
## S-A-TA2 0.018348624 0.00000000        0 0.00000000        0        0 0.00000000
## S-R-CT3 0.284403670 0.15492958        0 0.13333333        0        0 0.00000000
## S-R-CP3 0.036697248 0.00000000        0 0.06666667        0        0 0.00000000
## S-A-TA3 0.183486239 0.00000000        0 0.00000000        0        0 0.00000000
## S-R-CT4 0.036697248 0.04225352        0 0.00000000        0        0 0.00000000
## S-R-CP4 0.018348624 0.00000000        0 0.13333333        0        0 0.00000000
## S-A-TA4 0.082568807 0.00000000        0 0.13333333        0        0 0.00000000
## B-A-MU1 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-R-ET1 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-A-GU1 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-R-PC2 0.000000000 0.00000000        1 0.00000000        1        0 0.00000000
## B-A-MU2 0.009174312 0.00000000        0 0.00000000        0        0 0.00000000
## B-A-GU2 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-R-PC3 0.018348624 0.01408451        0 0.00000000        0        1 0.00000000
## B-A-MU3 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-A-GU3 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-R-PC4 0.009174312 0.00000000        0 0.06666667        0        0 0.00000000
## B-A-MU4 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
## B-A-GU4 0.000000000 0.00000000        0 0.00000000        0        0 0.00000000
##            or-nilot    pa-manag pimel-sp   po-retic    po-vivip    pr-brevi
## S-A-ZA1 0.000000000 0.000000000        0 0.00000000 0.000000000 0.032258065
## S-R-CC1 0.002358491 0.000000000        0 0.00000000 0.000000000 0.000000000
## S-R-CT1 0.042452830 0.000000000        1 0.00000000 0.048057260 0.017921147
## S-R-CP1 0.000000000 0.000000000        0 0.00000000 0.015337423 0.000000000
## S-A-TA1 0.000000000 0.000000000        0 0.00000000 0.000000000 0.003584229
## S-R-CT2 0.090801887 0.000000000        0 0.05249344 0.225971370 0.053763441
## S-R-CP2 0.000000000 0.000000000        0 0.00000000 0.032719836 0.017921147
## S-A-TA2 0.000000000 0.000000000        0 0.00000000 0.000000000 0.007168459
## S-R-CT3 0.162735849 0.000000000        0 0.01312336 0.333333333 0.587813620
## S-R-CP3 0.000000000 0.000000000        0 0.00000000 0.010224949 0.000000000
## S-A-TA3 0.000000000 0.000000000        0 0.00000000 0.000000000 0.000000000
## S-R-CT4 0.086084906 0.000000000        0 0.00000000 0.028629857 0.211469534
## S-R-CP4 0.000000000 0.000000000        0 0.00000000 0.081799591 0.000000000
## S-A-TA4 0.001179245 0.000000000        0 0.00000000 0.000000000 0.010752688
## B-A-MU1 0.007075472 0.000000000        0 0.00000000 0.000000000 0.000000000
## B-R-ET1 0.009433962 0.001805054        0 0.08923885 0.000000000 0.000000000
## B-A-GU1 0.003537736 0.019855596        0 0.00000000 0.000000000 0.000000000
## B-R-PC2 0.005896226 0.000000000        0 0.00000000 0.000000000 0.032258065
## B-A-MU2 0.001179245 0.000000000        0 0.02624672 0.008179959 0.000000000
## B-A-GU2 0.042452830 0.184115523        0 0.00000000 0.000000000 0.000000000
## B-R-PC3 0.076650943 0.000000000        0 0.00000000 0.000000000 0.021505376
## B-A-MU3 0.012971698 0.000000000        0 0.12073491 0.049079755 0.003584229
## B-A-GU3 0.291273585 0.451263538        0 0.00000000 0.000000000 0.000000000
## B-R-PC4 0.010613208 0.000000000        0 0.00000000 0.000000000 0.000000000
## B-A-MU4 0.001179245 0.000000000        0 0.69816273 0.166666667 0.000000000
## B-A-GU4 0.152122642 0.342960289        0 0.00000000 0.000000000 0.000000000
##         ps-rhomb ps-genise   se-heter se-piaba se-spilo    st-noton sy-marmo
## S-A-ZA1        0         0 0.00000000        0        0 0.000000000        0
## S-R-CC1        0         0 0.00000000        0        0 0.000000000        0
## S-R-CT1        0         0 0.13513514        1        0 0.004878049        0
## S-R-CP1        0         0 0.04729730        0        0 0.000000000        0
## S-A-TA1        0         0 0.01351351        0        0 0.000000000        0
## S-R-CT2        0         0 0.20270270        0        0 0.121951220        0
## S-R-CP2        0         0 0.00000000        0        0 0.000000000        1
## S-A-TA2        0         0 0.00000000        0        0 0.000000000        0
## S-R-CT3        1         1 0.12837838        0        1 0.560975610        0
## S-R-CP3        0         0 0.00000000        0        0 0.000000000        0
## S-A-TA3        0         0 0.00000000        0        0 0.000000000        0
## S-R-CT4        0         0 0.01013514        0        0 0.312195122        0
## S-R-CP4        0         0 0.01013514        0        0 0.000000000        0
## S-A-TA4        0         0 0.00000000        0        0 0.000000000        0
## B-A-MU1        0         0 0.00000000        0        0 0.000000000        0
## B-R-ET1        0         0 0.00000000        0        0 0.000000000        0
## B-A-GU1        0         0 0.00000000        0        0 0.000000000        0
## B-R-PC2        0         0 0.03378378        0        0 0.000000000        0
## B-A-MU2        0         0 0.00000000        0        0 0.000000000        0
## B-A-GU2        0         0 0.00000000        0        0 0.000000000        0
## B-R-PC3        0         0 0.31418919        0        0 0.000000000        0
## B-A-MU3        0         0 0.00000000        0        0 0.000000000        0
## B-A-GU3        0         0 0.00000000        0        0 0.000000000        0
## B-R-PC4        0         0 0.10472973        0        0 0.000000000        0
## B-A-MU4        0         0 0.00000000        0        0 0.000000000        0
## B-A-GU4        0         0 0.00000000        0        0 0.000000000        0
##          te-chalc   tr-signa
## S-A-ZA1 0.0000000 0.00000000
## S-R-CC1 0.0000000 0.00000000
## S-R-CT1 0.0000000 0.08653846
## S-R-CP1 0.0000000 0.00000000
## S-A-TA1 0.0000000 0.00000000
## S-R-CT2 0.0000000 0.07211538
## S-R-CP2 0.0000000 0.00000000
## S-A-TA2 0.0000000 0.00000000
## S-R-CT3 0.0000000 0.03365385
## S-R-CP3 0.0000000 0.00000000
## S-A-TA3 0.0000000 0.00000000
## S-R-CT4 0.0000000 0.67788462
## S-R-CP4 0.0000000 0.00000000
## S-A-TA4 0.0000000 0.00000000
## B-A-MU1 0.0000000 0.00000000
## B-R-ET1 0.0000000 0.00000000
## B-A-GU1 0.0000000 0.00000000
## B-R-PC2 0.5671642 0.11057692
## B-A-MU2 0.0000000 0.00000000
## B-A-GU2 0.0000000 0.00000000
## B-R-PC3 0.4328358 0.00000000
## B-A-MU3 0.0000000 0.00000000
## B-A-GU3 0.0000000 0.00000000
## B-R-PC4 0.0000000 0.01923077
## B-A-MU4 0.0000000 0.00000000
## B-A-GU4 0.0000000 0.00000000</code></pre>
<div class="sourceCode" id="cb404"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#colSums(m_relcol)</span></span>
<span><span class="co">#range(m_relcol)</span></span></code></pre></div>
</div>
<div id="transformação-pelo-arcoseno-da-raiz-quadrada" class="section level3" number="14.7.2">
<h3>
<span class="header-section-number">14.7.2</span> Transformação pelo arcoseno da raiz quadrada<a class="anchor" aria-label="anchor" href="#transforma%C3%A7%C3%A3o-pelo-arcoseno-da-raiz-quadrada"><i class="fas fa-link"></i></a>
</h3>
<p>A seguir é realizada a transformação pelo arcoseno da raiz quadrada, apropriada para ados em proporção como os ados previamente relativisados. Para cada transformação, a função é aplicada aos dados de interesse e o resultado é armazenado em uma nova variável. A função <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> é usada para visualizar o resultado de cada transformação na forma de uma tabela. Os códigos para as demais principais transformações estão <a href="reltrns.html#transforma%C3%A7%C3%B5es">AQUI</a></p>
<div class="sourceCode" id="cb405"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_relcol_asrq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol_asrq)</span></span>
<span><span class="va">m_relcol_asrqpi</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">/</span><span class="va">pi</span><span class="op">*</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol_asrqpi)</span></span>
<span><span class="co">#colSums(m_relcol_asrqpi)</span></span>
<span><span class="co">#range(m_relcol_asrqpi)</span></span></code></pre></div>
</div>
</div>
<div id="reset-point-2-1" class="section level2" number="14.8">
<h2>
<span class="header-section-number">14.8</span> Reset point 2<a class="anchor" aria-label="anchor" href="#reset-point-2-1"><i class="fas fa-link"></i></a>
</h2>
<p>Aqui estabelecemos a matriz transformada depois de ter sido relativisada como <code>m_trns</code>.</p>
<div class="sourceCode" id="cb406"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_trns</span> <span class="op">&lt;-</span> <span class="va">m_relcol_asrqpi</span></span>
<span><span class="co">#m_dists &lt;- dist(m_trns, method = "euclidian", diag = TRUE, upper = FALSE)</span></span></code></pre></div>
<p>Agora é com você…Refaça toda a análise com as relativizações e transformações adequadas para a matriz de dados fornecida.</p>
</div>
<div id="apêndices-10" class="section level2 unnumbered">
<h2>Apêndices<a class="anchor" aria-label="anchor" href="#ap%C3%AAndices-10"><i class="fas fa-link"></i></a>
</h2>
<div id="relativizações" class="section level3 unnumbered">
<h3>Relativizações<a class="anchor" aria-label="anchor" href="#relativiza%C3%A7%C3%B5es"><i class="fas fa-link"></i></a>
</h3>
<div id="total-das-colunas" class="section level4 unnumbered">
<h4>Total das colunas<a class="anchor" aria-label="anchor" href="#total-das-colunas"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb407"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_relcol</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/vegan/man/decostand.html">decostand</a></span><span class="op">(</span><span class="va">m_bruta</span>,</span>
<span>                         method<span class="op">=</span><span class="st">"total"</span>,</span>
<span>                         MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span></span>
<span><span class="va">m_relcol</span></span></code></pre></div>
<p>A função <code><a href="https://rdrr.io/pkg/vegan/man/decostand.html">decostand()</a></code> é usada para relativizar os dados armazenados no vetor <code>m_bruta</code>. O parâmetro <code>method</code> especifica o método de relativização, neste caso “total” (relativização pelo total de cada coluna). Outros métodos disponíveis são <code>max</code>, <code>normalize</code>, <code>range</code> e <code>rankm</code> (Figura <a href="reltrns.html#tab:5rels">14.3</a>). O parâmetro <code>MARGIN</code> especifica em qual dimensão os cálculos devem ser feitos (1 para linhas, 2 para colunas). Neste caso, <code>MARGIN=2</code> (colunas). A variável <code>m_relcol</code> armazena o resultado da relativização. Sokal e Rohlf <span class="citation">(<a href="#ref-RN67" role="doc-biblioref">1995</a>)</span> tratam dos diversos tipos de relativizações e transformações em dados ecológicos.</p>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:5rels">Tabela 14.3: </span>Métodos de relativização da função <code>decostand</code>
</caption>
<thead><tr>
<th style="text-align:center;">
Função
</th>
<th style="text-align:left;">
Descrição
</th>
<th style="text-align:left;">
Uso adequado
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
max
</td>
<td style="text-align:left;width: 8cm; ">
Divide cada valor pela maior observação da coluna em que está localizado. Todos os valores resultantes serão menores ou iguais a 1. Adequada para análise em escala relativa
</td>
<td style="text-align:left;width: 8cm; ">
Quando a escala de cada variável é conhecida e a análise deve ser feita em uma escala relativa
</td>
</tr>
<tr>
<td style="text-align:center;">
normalize
</td>
<td style="text-align:left;width: 8cm; ">
Divide cada valor pelo comprimento do vetor. Isso resulta em valores cujo comprimento é sempre igual a 1. Adequada para análise de dados de frequência
</td>
<td style="text-align:left;width: 8cm; ">
Para análise de dados de frequência
</td>
</tr>
<tr>
<td style="text-align:center;">
range
</td>
<td style="text-align:left;width: 8cm; ">
Subtrai o valor mínimo da coluna de cada valor e, em seguida, divide pelo intervalo (ou amplitude) dos valores da coluna. Isso resulta em valores entre 0 e 1.
</td>
<td style="text-align:left;width: 8cm; ">
Quando a amplitude dos valores em cada coluna é importante para a análise
</td>
</tr>
<tr>
<td style="text-align:center;">
rankm
</td>
<td style="text-align:left;width: 8cm; ">
Transforma os valores em suas posições dentro da coluna, em ordem crescente. O menor valor recebe o valor 1 e o maior valor recebe o valor igual ao comprimento da coluna.
</td>
<td style="text-align:left;width: 8cm; ">
Quando a escala absoluta dos valores não é importante, mas a ordem dos valores é significativa.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="transformações" class="section level3 unnumbered">
<h3>Transformações<a class="anchor" aria-label="anchor" href="#transforma%C3%A7%C3%B5es"><i class="fas fa-link"></i></a>
</h3>
<p>Essa seção mostra as diversas transformações nos dados armazenados no vetor <code>m_bruta</code>. Para cada transformação, a função é aplicada aos dados da matriz e o resultado é armazenado em uma nova variável. A função <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> pode ser usada para visualizar o resultado de cada transformação na forma de uma tabela. Ela mostra o código que realiza diversas transformações na matriz de dados. Para cada transformação, a função é aplicada aos dados e o resultado é armazenado em uma nova variável.</p>
<div id="log10" class="section level4 unnumbered">
<h4>Log10<a class="anchor" aria-label="anchor" href="#log10"><i class="fas fa-link"></i></a>
</h4>
<p>Não aceita zeros, porque o log de zero é indeterminado. Por isso devemos substituir os valores com erro (infinito negativo) por zero, usando a função <code><a href="https://rdrr.io/r/base/replace.html">replace()</a></code>.</p>
<div class="sourceCode" id="cb408"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_lg10</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="co">#View(m_lg10)</span></span>
<span><span class="va">m_lg10</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">m_lg10</span>, <span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">m_lg10</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">m_lg10</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="logx1" class="section level4 unnumbered">
<h4>Log(x+1)<a class="anchor" aria-label="anchor" href="#logx1"><i class="fas fa-link"></i></a>
</h4>
<p>Desaconselhavel para valores que variam entre 0-1.</p>
<div class="sourceCode" id="cb409"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_lgx1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#View(m_lgx1)</span></span></code></pre></div>
</div>
<div id="exponenciais" class="section level4 unnumbered">
<h4>Exponenciais<a class="anchor" aria-label="anchor" href="#exponenciais"><i class="fas fa-link"></i></a>
</h4>
<p>“Power transformations”, onde o valor de <code>p</code> estabelece a compressão dos dados.</p>
<div class="sourceCode" id="cb410"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_bruta_P1</span> <span class="op">&lt;-</span> <span class="va">m_bruta</span><span class="op">^</span><span class="fl">1</span> <span class="co">#p=1</span></span>
<span><span class="co">#View(m_bruta_P1)</span></span>
<span><span class="va">m_bruta_P05</span> <span class="op">&lt;-</span> <span class="va">m_bruta</span><span class="op">^</span><span class="fl">0.5</span> <span class="co">#p=0,5</span></span>
<span><span class="co">#View(m_bruta_P05)</span></span>
<span><span class="va">m_bruta_P01</span> <span class="op">&lt;-</span> <span class="va">m_bruta</span><span class="op">^</span><span class="fl">0.1</span> <span class="co">#p=0,1</span></span>
<span><span class="co">#View(m_bruta_P01)</span></span></code></pre></div>
</div>
<div id="presençaausência" class="section level4 unnumbered">
<h4>Presença/Ausência<a class="anchor" aria-label="anchor" href="#presen%C3%A7aaus%C3%AAncia"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb411"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_pa</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">m_bruta</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span><span class="op">*</span><span class="fl">1L</span></span>
<span><span class="co">#View(m_pa)</span></span></code></pre></div>
</div>
<div id="raiz-quadrada" class="section level4 unnumbered">
<h4>Raiz quadrada<a class="anchor" aria-label="anchor" href="#raiz-quadrada"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb412"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_rq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="co">#View(m_rq)</span></span></code></pre></div>
</div>
<div id="arcoseno-da-raiz-quadrada" class="section level4 unnumbered">
<h4>Arcoseno da raiz quadrada<a class="anchor" aria-label="anchor" href="#arcoseno-da-raiz-quadrada"><i class="fas fa-link"></i></a>
</h4>
<p>Os valores de entrada tem que variar entre 0 e 1. Ideal para matrizes relativizadas. Duas formulações estão disponíveis, com e sem a multiplicação por <code>2/pi</code>. A segunda opção costuma ter melhor efeito na normalização dos dados.</p>
<div class="sourceCode" id="cb413"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m_asrq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(m_asrq)</span></span>
<span><span class="va">m_asrqpi</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">/</span><span class="va">pi</span><span class="op">*</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">m_asrqpi</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="script-limpo-8" class="section level2 unnumbered">
<h2>Script limpo<a class="anchor" aria-label="anchor" href="#script-limpo-8"><i class="fas fa-link"></i></a>
</h2>
<p>Aqui apresento o scrip na íntegra sem os textos ou outros comentários. Você pode copiar e colar no R para executa-lo. Lembre de remover os <span style="color:green"><code>#</code></span> ou <span style="color:green"><code>##</code></span> caso necessite executar essas linhas.</p>
<div class="sourceCode" id="cb414"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## dev.off() #apaga os graficos, se houver algum</span></span>
<span><span class="co">## rm(list=ls(all=TRUE)) #limpa a memória</span></span>
<span><span class="co">## cat("\014") #limpa o console</span></span>
<span><span class="co">## install.packages("openxlsx") #importa arquivos do excel</span></span>
<span><span class="co">## install.packages("moments") #calcula assimetria e curtose dos dados</span></span>
<span><span class="co">## install.packages("vegan") #estatisticas para ecologia de comunidades</span></span>
<span><span class="co">## getwd()</span></span>
<span><span class="co">## setwd("C:/Seu/Diretório/De/Trabalho")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ycphs.github.io/openxlsx/index.html">openxlsx</a></span><span class="op">)</span></span>
<span><span class="co">#dir &lt;- getwd() #criamos um vetor com o diretório  de trbalho </span></span>
<span><span class="co">#shell.exec(dir) #abre o diretorio de trabalho no Windows Explorer</span></span>
<span><span class="va">m_bruta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/read.xlsx.html">read.xlsx</a></span><span class="op">(</span><span class="st">"D:/Elvio/OneDrive/Disciplinas/_EcoNumerica/5.Matrizes/peixes06.xlsx"</span>,</span>
<span>                   rowNames <span class="op">=</span> <span class="cn">T</span>, colNames <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                   sheet <span class="op">=</span> <span class="st">"Sheet1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="co">#View(m_bruta)</span></span>
<span><span class="va">m_bruta</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="co">#[1:5,1:5] mostra apenas as linhas e colunas de 1 a 5.</span></span>
<span><span class="co">## #View(m_bruta)</span></span>
<span><span class="co">## print(m_bruta[1:8,1:8])</span></span>
<span><span class="co">## m_bruta[1:10,1:10]</span></span>
<span><span class="co">## str(m_bruta)</span></span>
<span><span class="co">## mode(m_bruta)</span></span>
<span><span class="co">## class(m_bruta)</span></span>
<span><span class="co">#View(m_bruta)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#menor e maior valores</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de N colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span> <span class="co">#no. de M linhas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span> <span class="co">#soma os nos. de colunas</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span> <span class="co">#tamanho da matriz m x n</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># número de observações igual a zero</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># número de observações maiores que zero</span></span>
<span><span class="va">zeros</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span> <span class="co"># proporção de zeros na matriz</span></span>
<span><span class="va">zeros</span></span>
<span><span class="va">tamanho</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  Função <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"range"</span>, <span class="st">"lenght"</span>, <span class="st">"m cols"</span>, <span class="st">"n linhas"</span>, <span class="st">"Tamanho"</span>, <span class="st">"Tamanho"</span>,</span>
<span>             <span class="st">"Zeros"</span>, <span class="st">"Nao zeros"</span>, <span class="st">"% Zeros"</span><span class="op">)</span>,</span>
<span>  Resultado <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">" - "</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_bruta</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">m_bruta</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">zeros</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tamanho</span></span>
<span><span class="va">m_trab</span> <span class="op">&lt;-</span> <span class="va">m_bruta</span></span>
<span><span class="va">m_dists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="va">m_trab</span>, method <span class="op">=</span> <span class="st">"euclidian"</span>, diag <span class="op">=</span> <span class="cn">TRUE</span>, upper <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#m_dists</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_trab</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co">#CENTROIDE!! ou Grand mean</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>  <span class="co">#standard deviation</span></span>
<span><span class="va">centroide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="va">centroide</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">m</span></span>
<span><span class="va">m</span><span class="op">*</span><span class="op">(</span><span class="va">m</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="va">Sumario1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">Sumario1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Minimo"</span>, <span class="st">"Maximo"</span>, <span class="st">"Desv.Padr"</span>, <span class="st">"Media"</span>, <span class="st">"m(m-1)/2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">Sumario1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="st">"Valores"</span><span class="op">)</span></span>
<span><span class="va">Sumario1</span></span>
<span><span class="va">dist</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(dist)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="co">#head(dist)</span></span>
<span><span class="va">dist</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="co">#mostra as 5 primeiras linhas e colunas da matriz</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># intervalo dos valores da matriz</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># média dos valores da matriz</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span> <span class="co"># desvio padrão dos valores da matriz</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.r-project.org">moments</a></span><span class="op">)</span></span>
<span><span class="va">sk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/moments/man/skewness.html">skewness</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span> <span class="co">#calcula a assimetria da matriz</span></span>
<span><span class="va">ku</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/moments/man/kurtosis.html">kurtosis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span> <span class="co">#calcula a curtose da matriz</span></span>
<span><span class="va">sku</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">sk</span>,<span class="va">ku</span><span class="op">)</span> <span class="co"># junta os dois valores em um vetor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">sku</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"assimetria"</span>, <span class="st">"curtose"</span><span class="op">)</span> <span class="co"># nomeia as colunas do vetor</span></span>
<span><span class="va">sku</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span> <span class="co"># mostra as primeiras 10 linhas desse vetor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">sku</span><span class="op">)</span> <span class="co"># mostra um resumo estatístico do vetor</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="co"># esse comando faz os gráficos aparecerem um acima do outro</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">m_dists</span>,</span>
<span>     breaks <span class="op">=</span> <span class="fl">20</span>, <span class="co"># determina o número de colunas do histograma</span></span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="co"># limites dos eixos</span></span>
<span>     xlab <span class="op">=</span> <span class="st">"Distr. de Frequências"</span>,</span>
<span>     freq <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># mostra as frequências relativas em vez das absolutas</span></span>
<span>     main <span class="op">=</span> <span class="st">"Histograma e boxplot da matriz de distâncias"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/curve.html">curve</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">dnorm</a></span><span class="op">(</span><span class="va">x</span>, mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span>, sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># sobrepõe a curva de normalidade</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot.default</a></span><span class="op">(</span><span class="va">m_dists</span>, horizontal <span class="op">=</span> <span class="cn">TRUE</span>, frame <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                xlab<span class="op">=</span><span class="st">"Distr. de Frequências"</span>,</span>
<span>                ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m_dists</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># limites dos eixos</span></span>
<span><span class="co">## dev.off()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vegandevs/vegan">vegan</a></span><span class="op">)</span></span>
<span><span class="va">m_relcol</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/vegan/man/decostand.html">decostand</a></span><span class="op">(</span><span class="va">m_trab</span>,</span>
<span>                         method<span class="op">=</span><span class="st">"total"</span>,</span>
<span>                         MARGIN <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol)</span></span>
<span><span class="va">m_relcol</span></span>
<span><span class="co">#colSums(m_relcol)</span></span>
<span><span class="co">#range(m_relcol)</span></span>
<span><span class="va">m_relcol_asrq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol_asrq)</span></span>
<span><span class="va">m_relcol_asrqpi</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">/</span><span class="va">pi</span><span class="op">*</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">asin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">m_relcol</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#View(m_relcol_asrqpi)</span></span>
<span><span class="co">#colSums(m_relcol_asrqpi)</span></span>
<span><span class="co">#range(m_relcol_asrqpi)</span></span>
<span><span class="va">m_trns</span> <span class="op">&lt;-</span> <span class="va">m_relcol_asrqpi</span></span>
<span><span class="co">#m_dists &lt;- dist(m_trns, method = "euclidian", diag = TRUE, upper = FALSE)</span></span>
<span><span class="co">## m_relcol &lt;- decostand(m_bruta,</span></span>
<span><span class="co">##                          method="total",</span></span>
<span><span class="co">##                          MARGIN = 2)</span></span>
<span><span class="co">## View(m_relcol)</span></span>
<span><span class="co">## m_relcol</span></span>
<span><span class="co">## m_lg10 &lt;- log10(m_bruta)</span></span>
<span><span class="co">## #View(m_lg10)</span></span>
<span><span class="co">## m_lg10 &lt;- replace(m_lg10, is.infinite(m_lg10), 0)</span></span>
<span><span class="co">## head(m_lg10)</span></span>
<span><span class="co">## m_lgx1 &lt;- log(m_bruta+1)</span></span>
<span><span class="co">## #View(m_lgx1)</span></span>
<span><span class="co">## m_bruta_P1 &lt;- m_bruta^1 #p=1</span></span>
<span><span class="co">## #View(m_bruta_P1)</span></span>
<span><span class="co">## m_bruta_P05 &lt;- m_bruta^0.5 #p=0,5</span></span>
<span><span class="co">## #View(m_bruta_P05)</span></span>
<span><span class="co">## m_bruta_P01 &lt;- m_bruta^0.1 #p=0,1</span></span>
<span><span class="co">## #View(m_bruta_P01)</span></span>
<span><span class="co">## m_pa &lt;- (m_bruta&gt;0)*1L</span></span>
<span><span class="co">## #View(m_pa)</span></span>
<span><span class="co">## m_rq &lt;- sqrt(m_bruta)</span></span>
<span><span class="co">## #View(m_rq)</span></span>
<span><span class="co">## m_asrq &lt;- asin(sqrt(m_relcol))</span></span>
<span><span class="co">## #View(m_asrq)</span></span>
<span><span class="co">## m_asrqpi &lt;- 2/pi*(asin(sqrt(m_relcol)))</span></span>
<span><span class="co">## View(m_asrqpi)</span></span></code></pre></div>
</div>
<div id="referências-12" class="section level2 unnumbered">
<h2>Referências<a class="anchor" aria-label="anchor" href="#refer%C3%AAncias-12"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
<h3>Bibliografia Geral</h3>
<div id="refs" class="references csl-bib-body" entry-spacing="1">
<div id="ref-RN1336" class="csl-entry">
BORCARD, D.; GILLET, F.; LEGENDRE, P. <strong>Numerical Ecology with R</strong>. 2. ed. [s.l.] : Springer, 2018. p. 435
</div>
<div id="ref-RN419" class="csl-entry">
HORTON, N. J.; KLEINMAN, K. <strong>Using R and RStudio for Data Management, Statistical Analysis, and Graphics</strong>. 2. ed. [s.l.] : CRC Press, 2015. p. 253
</div>
<div id="ref-RN1278" class="csl-entry">
LEGENDRE, P.; LEGENDRE, L. <strong>Numerical Ecology</strong>. 2nd English ed ed. Amsterdam, The Netherlands ; New York ; Oxford. p. 853
</div>
<div id="ref-RN286" class="csl-entry">
SOKAL, R. R.; ROHLF, F. J. <strong>Introduction to Biostatistics</strong>. 2. ed. Mineola, New York: Dover Publications, 1987. p. 363
</div>
<div id="ref-RN67" class="csl-entry">
SOKAL, R. R.; ROHLF, F. J. <strong>Biometry: The Principles and Practice of Statistics in Biological Research</strong>. 3. ed. New York: W.H. Freeman; Company, 1995. p. 776
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="estrhab.html"><span class="header-section-number">13</span> R Modulo 4.3 - Estrutura do habitat</a></div>
<div class="next"><a href="outcentr.html"><span class="header-section-number">15</span> R Módulo 6 - Análise de outliers baseada no desvio padrão do centróide</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li>
<a class="nav-link" href="#reltrns"><span class="header-section-number">14</span> R Modulo 5 - Relativizações e transformações</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#resumo-11">RESUMO</a></li>
<li><a class="nav-link" href="#apresenta%C3%A7%C3%A3o-11">Apresentação</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#organiza%C3%A7%C3%A3o-b%C3%A1sica-8"><span class="header-section-number">14.1</span> Organização básica</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#importando-a-planilha-7"><span class="header-section-number">14.1.1</span> Importando a planilha</a></li></ul>
</li>
<li><a class="nav-link" href="#tamanho-da-matriz"><span class="header-section-number">14.2</span> Tamanho da matriz</a></li>
<li><a class="nav-link" href="#reset-point-1-1"><span class="header-section-number">14.3</span> Reset point 1</a></li>
<li><a class="nav-link" href="#c%C3%A1lculo-da-matriz-de-dist%C3%A2ncias"><span class="header-section-number">14.4</span> Cálculo da matriz de distâncias</a></li>
<li>
<a class="nav-link" href="#distribui%C3%A7%C3%A3o-de-frequ%C3%AAncia-da-matriz-de-dist%C3%A2ncias"><span class="header-section-number">14.5</span> Distribuição de frequência da matriz de distâncias</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#calculando-alguns-par%C3%A2metros-b%C3%A1sicos"><span class="header-section-number">14.5.1</span> Calculando alguns parâmetros básicos</a></li>
<li><a class="nav-link" href="#calculando-a-assimetria-e-a-curtose"><span class="header-section-number">14.5.2</span> Calculando a assimetria e a curtose</a></li>
</ul>
</li>
<li><a class="nav-link" href="#distribui%C3%A7%C3%A3o-de-frequ%C3%AAncias-da-matriz-de-dist%C3%A2ncias"><span class="header-section-number">14.6</span> Distribuição de frequências da matriz de distâncias</a></li>
<li>
<a class="nav-link" href="#relativizando-e-transformando-a-base-de-dados"><span class="header-section-number">14.7</span> Relativizando e transformando a base de dados</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#relativiza%C3%A7%C3%A3o-pelo-total"><span class="header-section-number">14.7.1</span> Relativização pelo total</a></li>
<li><a class="nav-link" href="#transforma%C3%A7%C3%A3o-pelo-arcoseno-da-raiz-quadrada"><span class="header-section-number">14.7.2</span> Transformação pelo arcoseno da raiz quadrada</a></li>
</ul>
</li>
<li><a class="nav-link" href="#reset-point-2-1"><span class="header-section-number">14.8</span> Reset point 2</a></li>
<li>
<a class="nav-link" href="#ap%C3%AAndices-10">Apêndices</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#relativiza%C3%A7%C3%B5es">Relativizações</a></li>
<li><a class="nav-link" href="#transforma%C3%A7%C3%B5es">Transformações</a></li>
</ul>
</li>
<li><a class="nav-link" href="#script-limpo-8">Script limpo</a></li>
<li><a class="nav-link" href="#refer%C3%AAncias-12">Referências</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Fundamentos de Ecologia Numérica</strong>: Disciplina de Ecologia Numérica do Curso de Ciências Biológicas do Campus V da UEPB" was written by Prof. Elvio S. F. Medeiros, Laboratório de Ecologia, Universidade Estadual da Paraíba, Campus V, João Pessoa, PB. It was last built on Last updated: 09/02/2026 17:59:32.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
